'use strict'

const express = require('express');
const bodyParser = require('body-parser');
var request = require('request');
const app = express();
var encoding = require("encoding");



app.set('port', (process.env.PORT || 5000)) 
app.use(bodyParser.urlencoded({extended: false}))
app.use(bodyParser.json())

app.listen(app.get('port'), function() {
    console.log('running on port', app.get('port'))
})
var Token = process.env.TOKEN;
//var WebDF = process.env.WebDF;

var access_token = 'Bearer {'+Token+'}'
var name = "";

app.get('/', (req, res) => {
  res.end("ok")
})



app.post('/webhook', (req, res) => {

    var data = req.body; 
console.log('-----à¸›à¸£à¸´à¹‰à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”-----' + JSON.stringify(data));
    
//console.log('++++'+JSON.stringify(req.body.events));
    
    var sende_r = req.body.events[0].source.userId
    var reToken = req.body.events[0].replyToken
    
    var data = req.body; 
    
    if (req.body.events[0].type == "message") { 
    if (req.body.events[0].message.type == "text") {
     
     var tex_t = req.body.events[0].message.text
     
        //profile(reToken, sende_r); 
     
     postToDialogflow(req);

     }
        
     }else if (req.body.events[0].type == "beacon") {  
     if (req.body.events[0].beacon.type == "enter") {   
        
     var beacon_id = req.body.events[0].beacon.hwid  
       //  if(beacon_1 == "0133a0751f"){
       //  profile(reToken, sende_r);    
       //  }else if(beacon_1 == "0133a0751f"){
       //  profile(reToken, sende_r);    
       //  } 
       profile(reToken, sende_r, beacon_id);  
       console.log("---enter---" + sende_r+"-------"+beacon_id);  
     }
 }
 
 
 })
 
 
 /////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////


function data_enter(sende_r, beacon_id) {


   var checktime = "https://script.google.com/macros/s/AKfycbxZ4_XfKROefcqvh1wzT0xvEu2_DW-jJ5RaG1JeAlPLN2MTXEc/exec?userId="+sende_r+"&beaconid="+beacon_id;
 request(checktime, function (error, response, body) {

})


}





// à¹€à¸Šà¹‡à¸„à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ
/////////////////////////////////////////////////////////////////////////

function profile(reToken,sende_r, beacon_id) {

    var headers = {
       'Authorization' : access_token
}
    

var options = {
    url: 'https://api.line.me/v2/bot/profile/'+sende_r,
    method: 'GET',
    headers: headers,
    }

 request(options, function (error, response, body) {
    if (!error && response.statusCode == 200) {
        var info = JSON.parse(body);
        name = info.displayName;
        
          if(beacon_id == "0133a0751f"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 1 (à¸”à¹‰à¸²à¸™à¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µðŸ˜ðŸ˜" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹†  à¸«à¸²à¸à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢à¸ˆà¸°à¹„à¸›à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸­à¸²à¸«à¸²à¸£à¸¡à¸²à¸à¸¡à¸²à¸¢à¸ˆà¸²à¸à¸—à¸¸à¸à¸ à¸²à¸„à¸—à¸±à¹ˆà¸§à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸—à¸²à¸‡à¸­à¸­à¸à¸™à¸µà¹‰à¸ˆà¸°à¸™à¸³à¸—à¹ˆà¸²à¸™à¹„à¸›à¸ªà¸¹à¹ˆà¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸ à¸«à¸²à¸à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸–à¸™à¸™à¸ªà¸¸à¸‚à¸¸à¸¡à¸§à¸´à¸—à¹„à¸”à¹‰ à¸«à¸£à¸·à¸­à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹€à¸žà¸¥à¸´à¸™à¸ˆà¸´à¸• à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸›à¸£à¸°à¸ˆà¸³à¸—à¸²à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸­à¸­à¸à¸ˆà¸²à¸à¸›à¸£à¸°à¸•à¸¹à¹ƒà¸«à¹‰à¹€à¸”à¸´à¸™à¹„à¸›à¸—à¸²à¸‡à¸‚à¸§à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¹‰à¸²à¸¡à¸ªà¸°à¸žà¸²à¸™à¸¥à¸­à¸¢à¹„à¸›à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸­à¸µà¸à¸à¸±à¹ˆà¸‡à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡à¸–à¸™à¸™à¸žà¸£à¸°à¸£à¸²à¸¡ 4 à¹à¸¥à¸°à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸•à¹‰à¸”à¸´à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µà¹„à¸”à¹‰" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"

          }; 
        reply(reToken, msg, sende_r, beacon_id);    
         }else if(beacon_id == "0133a097a3"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 2 (à¸”à¹‰à¸²à¸™à¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸«à¸£à¸·à¸­à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢à¸—à¹ˆà¸²à¸™à¸à¸³à¸¥à¸±à¸‡à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¹„à¸›à¸¢à¸±à¸‡à¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸ªà¸¡à¸²à¸„à¸¡ à¸Šà¸¡à¸£à¸¡ à¸ªà¹‚à¸¡à¸ªà¸£à¹à¸¥à¸°à¸­à¸‡à¸„à¹Œà¸à¸£à¸—à¸±à¹ˆà¸§à¹„à¸› à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‚à¸§à¸²à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸­à¸²à¸«à¸²à¸£à¸¡à¸²à¸à¸¡à¸²à¸¢à¸ˆà¸²à¸à¸—à¸¸à¸à¸ à¸²à¸„à¸—à¸±à¹ˆà¸§à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢ à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹†" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸—à¸²à¸‡à¸­à¸­à¸à¸™à¸µà¹‰à¸ˆà¸°à¸™à¸³à¸—à¹ˆà¸²à¸™à¹„à¸›à¸ªà¸¹à¹ˆà¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸ à¸«à¸²à¸à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸–à¸™à¸™à¸ªà¸¸à¸‚à¸¸à¸¡à¸§à¸´à¸—à¹„à¸”à¹‰ à¸«à¸£à¸·à¸­à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹€à¸žà¸¥à¸´à¸™à¸ˆà¸´à¸• à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸›à¸£à¸°à¸ˆà¸³à¸—à¸²à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸­à¸­à¸à¸ˆà¸²à¸à¸›à¸£à¸°à¸•à¸¹à¹ƒà¸«à¹‰à¹€à¸”à¸´à¸™à¹„à¸›à¸—à¸²à¸‡à¸‹à¹‰à¸²à¸¢ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¹‰à¸²à¸¡à¸–à¸™à¸™à¹„à¸›à¸¢à¸±à¸‡à¹‚à¸„à¸£à¸‡à¸à¸²à¸£ One Bangkok à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹„à¸›à¸¢à¸±à¸‡à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸•à¹‰à¸”à¸´à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µà¹„à¸”à¹‰" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
         
        else if(beacon_id == "01344237f6"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 3 (à¸”à¹‰à¸²à¸™à¸–à¸™à¸™à¸žà¸£à¸°à¸£à¸²à¸¡ 4) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸à¸­à¸‡à¸­à¸³à¸™à¸§à¸¢à¸à¸²à¸£à¸ˆà¸±à¸”à¸‡à¸²à¸™à¸à¸²à¸Šà¸²à¸”à¸‹à¸¶à¹ˆà¸‡à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸ˆà¹‰à¸‡à¹€à¸«à¸•à¸¸à¸•à¹ˆà¸²à¸‡ à¹† à¹à¸¥à¸°à¸ªà¸­à¸šà¸–à¸²à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸‡à¸²à¸™à¸à¸²à¸Šà¸²à¸”à¹„à¸”à¹‰ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢ à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸„à¸§à¸²à¸¡à¸¡à¸±à¹ˆà¸™à¸„à¸‡ à¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ à¹à¸¥à¸°à¸ªà¸¡à¸²à¸„à¸¡à¹à¸¡à¹ˆà¸šà¹‰à¸²à¸™ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‚à¸§à¸² à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸ªà¸¡à¸²à¸„à¸¡ à¸Šà¸¡à¸£à¸¡ à¸ªà¹‚à¸¡à¸ªà¸£à¹à¸¥à¸°à¸­à¸‡à¸„à¹Œà¸à¸£à¸—à¸±à¹ˆà¸§à¹„à¸›" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸—à¸²à¸‡à¸­à¸­à¸à¸™à¸µà¹‰à¸ˆà¸°à¸™à¸³à¸—à¹ˆà¸²à¸™à¹„à¸›à¸ªà¸¹à¹ˆà¸–à¸™à¸™à¸žà¸£à¸°à¸£à¸²à¸¡ 4  à¸«à¸²à¸à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸ à¹à¸¥à¸°à¸ªà¸²à¸—à¸£à¹ƒà¸•à¹‰ à¸™à¸­à¸à¸ˆà¸²à¸à¸™à¸±à¹‰à¸™à¸—à¹ˆà¸²à¸™à¸¢à¸±à¸‡à¸ªà¸²à¸¡à¸²à¸£à¸–à¹„à¸›à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹€à¸žà¸¥à¸´à¸™à¸ˆà¸´à¸•à¹„à¸”à¹‰ à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸›à¸£à¸°à¸ˆà¸³à¸—à¸²à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸­à¸­à¸à¸ˆà¸²à¸à¸›à¸£à¸°à¸•à¸¹à¹ƒà¸«à¹‰à¹€à¸”à¸´à¸™à¹„à¸›à¸—à¸²à¸‡à¸‹à¹‰à¸²à¸¢" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "013446ebd9"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 4 (à¸”à¹‰à¸²à¸™à¸­à¸™à¸¸à¹€à¸ªà¸²à¸§à¸£à¸µà¸¢à¹Œà¸£à¸±à¸Šà¸à¸²à¸¥à¸—à¸µà¹ˆ 6) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸„à¸§à¸²à¸¡à¸¡à¸±à¹ˆà¸™à¸„à¸‡ à¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ à¹à¸¥à¸°à¸ªà¸¡à¸²à¸„à¸¡à¹à¸¡à¹ˆà¸šà¹‰à¸²à¸™ à¸—à¸²à¸‡à¸”à¹‰à¸²à¸™à¸‚à¸§à¸²à¸¡à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢ à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‚à¸§à¸² à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¸ªà¸¹à¹ˆà¸à¸­à¸‡à¸­à¸³à¸™à¸§à¸¢à¸à¸²à¸£à¸ˆà¸±à¸”à¸‡à¸²à¸™à¸à¸²à¸Šà¸²à¸”à¸‹à¸¶à¹ˆà¸‡à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸ˆà¹‰à¸‡à¹€à¸«à¸•à¸¸à¸•à¹ˆà¸²à¸‡ à¹† à¹à¸¥à¸°à¸ªà¸­à¸šà¸–à¸²à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸‡à¸²à¸™à¸à¸²à¸Šà¸²à¸”à¹„à¸”à¹‰" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¹„à¸›à¸—à¸²à¸‡à¸‹à¹‰à¸²à¸¢à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸•à¹‰à¸”à¸´à¸™à¸ªà¸–à¸²à¸™à¸µà¸ªà¸µà¸¥à¸¡ à¹à¸¥à¸°à¸–à¸™à¸™à¸žà¸£à¸°à¸£à¸²à¸¡ 4  à¸«à¸²à¸à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸–à¸™à¸™à¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸ à¹à¸¥à¸°à¸ªà¸²à¸—à¸£à¹ƒà¸•à¹‰ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¹„à¸›à¸—à¸²à¸‡à¸‚à¸§à¸² à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸–à¸™à¸™à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¸«à¸²à¸à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸–à¸™à¸™à¸ªà¸µà¸¥à¸¡à¹à¸¥à¸°à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸¨à¸²à¸¥à¸²à¹à¸”à¸‡ à¹„à¸”à¹‰  à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¹‰à¸²à¸¡à¸–à¸™à¸™à¹„à¸›à¹à¸¥à¹‰à¸§à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¹‚à¸£à¸‡à¸žà¸¢à¸²à¸šà¸²à¸¥à¸ˆà¸¸à¸¬à¸²à¸¯ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¸«à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸žà¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸‹à¹‡à¸™à¸—à¸£à¸±à¸¥à¹€à¸§à¸´à¸¥à¸”à¹Œ à¹à¸¥à¸° à¸›à¸£à¸°à¸•à¸¹à¸™à¹‰à¸³à¹„à¸”à¹‰" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "013448341c"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 5 (à¸”à¹‰à¸²à¸™à¸•à¸£à¸‡à¸‚à¹‰à¸²à¸¡ à¸£à¸ž.à¸ˆà¸¸à¸¬à¸²à¸¥à¸‡à¸à¸£à¸“à¹Œ) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢ à¹à¸¥à¸°à¹€à¸”à¸´à¸™à¸•à¹ˆà¸­à¹„à¸›à¸•à¸²à¸¡à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹† à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‚à¸§à¸² à¸—à¹ˆà¸²à¸™à¸à¸³à¸¥à¸±à¸‡à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¸ªà¸¹à¹ˆ à¸žà¸£à¸°à¸šà¸£à¸¡à¸£à¸²à¸Šà¸²à¸™à¸¸à¸ªà¸²à¸§à¸£à¸µà¸¢à¹Œ à¸£à¸±à¸Šà¸à¸²à¸¥à¸—à¸µà¹ˆ 6 à¹à¸¥à¸°à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸šà¸£à¸´à¹€à¸§à¸“à¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸„à¸§à¸²à¸¡à¸¡à¸±à¹ˆà¸™à¸„à¸‡ à¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ à¹à¸¥à¸°à¸ªà¸¡à¸²à¸„à¸¡à¹à¸¡à¹ˆà¸šà¹‰à¸²à¸™à¹„à¸”à¹‰" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸–à¸™à¸™à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¸‹à¸¶à¹ˆà¸‡à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸ˆà¸²à¸à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰ à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¹„à¸›à¸¢à¸±à¸‡à¸–à¸™à¸™à¸ªà¸µà¸¥à¸¡ à¹‚à¸£à¸‡à¸žà¸¢à¸²à¸šà¸²à¸¥à¸ˆà¸¸à¸¬à¸²à¸¥à¸‡à¸à¸£à¸“à¹Œ  â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸•à¹‰à¸”à¸´à¸™à¸ªà¸µà¸¥à¸¡â€ à¹à¸¥à¸° â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸¨à¸²à¸¥à¸²à¹à¸”à¸‡â€ à¹„à¸”à¹‰ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¹‰à¸²à¸¡à¸–à¸™à¸™à¹„à¸›à¸à¸±à¹ˆà¸‡à¸•à¸£à¸‡à¸‚à¹‰à¸²à¸¡ à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸‚à¸¶à¹‰à¸™à¸£à¸–à¹à¸¥à¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡ â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸£à¸²à¸Šà¸”à¸³à¸£à¸´â€ à¸«à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸žà¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸‹à¹‡à¸™à¸—à¸£à¸±à¸¥à¹€à¸§à¸´à¸¥à¸”à¹Œ à¸ªà¸¢à¸²à¸¡ à¹à¸¥à¸°à¸›à¸£à¸°à¸•à¸¹à¸™à¹‰à¸³à¹„à¸”à¹‰" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "01344ad82f"){
         var msg = {
           "type": "text",
           "text": "à¸‚à¸“à¸°à¸™à¸µà¹‰à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸£à¸´à¹€à¸§à¸“à¸›à¸£à¸°à¸•à¸¹ 6 (à¸”à¹‰à¸²à¸™à¸–à¸™à¸™à¸ªà¸²à¸£à¸ªà¸´à¸™) à¸‚à¸­à¸‡à¸ªà¸§à¸™à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸”à¸´à¸™à¸•à¸£à¸‡à¹„à¸›à¸–à¸¶à¸‡à¸—à¸²à¸‡à¹à¸¢à¸ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢ à¹à¸¥à¸°à¹€à¸”à¸´à¸™à¸•à¹ˆà¸­à¹„à¸›à¸•à¸²à¸¡à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸‹à¸¸à¹‰à¸¡à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸£à¸²à¸Šà¸à¸²à¸£à¸•à¹ˆà¸²à¸‡ à¹†" +
                    "\n"+
                    "\n\tà¸«à¸²à¸à¸„à¸¸à¸“"+" " +name +" " + "à¸à¸³à¸¥à¸±à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸­à¸­à¸à¸ˆà¸²à¸à¸‡à¸²à¸™ à¸—à¹ˆà¸²à¸™à¸ˆà¸°à¸žà¸šà¸à¸±à¸šà¸–à¸™à¸™à¸ªà¸²à¸£à¸ªà¸´à¸™ à¸‹à¸¶à¹ˆà¸‡à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¸¶à¹‰à¸™à¸£à¸–à¸ˆà¸²à¸à¸à¸±à¹ˆà¸‡à¸™à¸µà¹‰ à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸¸à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¹„à¸›à¸¢à¸±à¸‡à¸–à¸™à¸™à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¶à¸‡à¹à¸¢à¸à¸–à¸™à¸™à¸ªà¸²à¸£à¸ªà¸´à¸™-à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‹à¹‰à¸²à¸¢à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡ à¹‚à¸£à¸‡à¸žà¸¢à¸²à¸šà¸²à¸¥à¸ˆà¸¸à¸¬à¸²à¸¥à¸‡à¸à¸£à¸“à¹Œ  â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸•à¹‰à¸”à¸´à¸™à¸ªà¸µà¸¥à¸¡â€ à¹à¸¥à¸° â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸¨à¸²à¸¥à¸²à¹à¸”à¸‡â€ à¹„à¸”à¹‰ à¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¶à¸‡à¹à¸¢à¸à¸–à¸™à¸™à¸ªà¸²à¸£à¸ªà¸´à¸™-à¸£à¸²à¸Šà¸”à¸³à¸£à¸´ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹€à¸¥à¸µà¹‰à¸¢à¸§à¸‚à¸§à¸²à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡â€œà¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸£à¸²à¸Šà¸”à¸³à¸£à¸´â€ à¸«à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸žà¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸‹à¹‡à¸™à¸—à¸£à¸±à¸¥à¹€à¸§à¸´à¸¥à¸”à¹Œ à¸ªà¸¢à¸²à¸¡ à¹à¸¥à¸°à¸›à¸£à¸°à¸•à¸¹à¸™à¹‰à¸³à¹„à¸”à¹‰ à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¸‚à¹‰à¸²à¸¡à¸–à¸™à¸™à¹„à¸›à¸à¸±à¹ˆà¸‡à¸•à¸£à¸‡à¸‚à¹‰à¸²à¸¡ à¸—à¹ˆà¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸‚à¸¶à¹‰à¸™à¸£à¸–à¹à¸¥à¸°à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹„à¸›à¸¢à¸±à¸‡ à¸–à¸™à¸™à¸§à¸´à¸—à¸¢à¸¸ à¹à¸¥à¸°à¹à¸¢à¸à¹€à¸žà¸¥à¸´à¸™à¸ˆà¸´à¸•à¹„à¸”à¹‰" +
                    "\n"+ 
                     "\nà¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡ à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸¡à¸µà¸œà¸¹à¹‰à¹€à¸‚à¹‰à¸²à¹€à¸¢à¸µà¹ˆà¸¢à¸¡à¸Šà¸¡à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸¡à¸²à¸ à¸­à¸²à¸ˆà¸¡à¸µà¸¡à¸´à¸ˆà¸‰à¸²à¸Šà¸µà¸žà¹à¸à¸‡à¸•à¸±à¸§à¸¡à¸²à¸à¹ˆà¸­à¹€à¸«à¸•à¸¸à¸¥à¹‰à¸§à¸‡à¸à¸£à¸°à¹€à¸›à¹‹à¸² à¸‚à¸­à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¹‚à¸›à¸£à¸”à¸£à¸°à¸§à¸±à¸‡à¸—à¸£à¸±à¸žà¸¢à¹Œà¸ªà¸´à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹ƒà¸«à¹‰à¸£à¸±à¸”à¸à¸¸à¸¡à¸¡à¸²à¸à¸¢à¸´à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¸—à¹ˆà¸²à¸™à¸ªà¸°à¸žà¸²à¸¢à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸²à¸à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸™à¸µà¹‰à¸šà¹ˆà¸­à¸¢à¹€à¸à¸´à¸™à¹„à¸› à¸ªà¸²à¸¡à¸²à¸£à¸–à¸«à¸¢à¸¸à¸”à¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹„à¸”à¹‰à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§à¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² à¸›à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸šà¸ªà¸±à¸à¸à¸²à¸“à¸šà¸¥à¸¹à¸—à¸¹à¸˜ à¹ƒà¸™à¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸¡à¸·à¸­à¸–à¸·à¸­à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µ" +
                    "\n"+ 
                    "\nà¸”à¹‰à¸§à¸¢à¸„à¸§à¸²à¸¡à¸›à¸£à¸²à¸–à¸™à¸²à¸”à¸µ"+ 
                    "\nà¸ˆà¸²à¸ à¸ž.à¸•.à¸­.à¸à¸±à¸¡à¸žà¸¥ à¸£à¸±à¸•à¸™à¸›à¸£à¸°à¸—à¸µà¸›"+ 
                    "\nà¸œà¸¹à¹‰à¸à¸³à¸à¸±à¸šà¸à¸²à¸£ à¸ªà¸–à¸²à¸™à¸µà¸•à¸³à¸£à¸§à¸ˆà¸™à¸„à¸£à¸šà¸²à¸¥à¸¥à¸¸à¸¡à¸žà¸´à¸™à¸µ"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "01344c9149"){
         var msg = {
           "type": "text",
           "text": "à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“ "+ name + "\nà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§\n Beacon 7"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "01344cdece"){
         var msg = {
           "type": "text",
           "text": "à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“ "+ name + "\nà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§\n Beacon 8"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "01344dc086"){
         var msg = {
           "type": "text",
           "text": "à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“ "+ name + "\nà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§\n Beacon 9"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        else if(beacon_id == "01344eddf8"){
         var msg = {
           "type": "text",
           "text": "à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“ "+ name + "\nà¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§\n Beacon 10"
          }; 
        reply(reToken, msg, sende_r, beacon_id);   
         }
        
        
        
    }
 })


}

//////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////


function reply(reToken, msg, sende_r, beacon_id) {
    let headers = {
        'Content-Type': 'application/json',
        'Authorization': access_token
    }
    let body = JSON.stringify({
        replyToken: reToken,
        messages: [msg]
    })
    request.post({
        url: 'https://api.line.me/v2/bot/message/reply',
        headers: headers,
        body: body
    }
)
    console.log("---data_enter---" + sende_r+"-------"+beacon_id);
data_enter(sende_r, beacon_id);
}

const postToDialogflow = req => {
    
  var WebDF = "https://bots.dialogflow.com/line/9c6a1598-acdd-4693-929d-29ccb36a541f/webhook";
  req.headers.host = "bots.dialogflow.com";
  return request({
    method: "POST",
    uri: WebDF ,
    headers: req.headers,
    body: JSON.stringify(req.body)
    
  });
 
};

